<!DOCTYPE html>
<html lang="<%= I18n.locale %>" class="h-full">
  <head>
    <title><%= meta_title %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta charset="utf-8">

    <% if meta_description.present? %>
      <meta name="description" content="<%= meta_description %>">
    <% end %>

    <%# Open Graph %>
    <meta property="og:title" content="<%= meta_title %>">
    <meta property="og:type" content="website">
    <meta property="og:url" content="<%= request.original_url %>">
    <% if meta_description.present? %>
      <meta property="og:description" content="<%= meta_description %>">
    <% end %>
    <% if og_image_url.present? %>
      <meta property="og:image" content="<%= og_image_url %>">
      <meta property="og:image:width" content="1200">
      <meta property="og:image:height" content="630">
    <% end %>
    <meta property="og:site_name" content="<%= current_spina_account.name %>">
    <meta property="og:locale" content="<%= I18n.locale %>">

    <%# Twitter Card %>
    <meta name="twitter:card" content="<%= og_image_url.present? ? 'summary_large_image' : 'summary' %>">
    <meta name="twitter:title" content="<%= meta_title %>">
    <% if meta_description.present? %>
      <meta name="twitter:description" content="<%= meta_description %>">
    <% end %>
    <% if og_image_url.present? %>
      <meta name="twitter:image" content="<%= og_image_url %>">
    <% end %>

    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>
  <body class="min-h-full bg-stone-50">
    <% main_navigation = Spina::Navigation.find_by(name: 'main') %>
    <%= render HeaderComponent.new(
      navigation_items: main_navigation&.navigation_items || []
    ) %>

    <%= yield %>

    <% footer_navigation = Spina::Navigation.find_by(name: 'footer') %>
    <%= render FooterComponent.new(
      navigation_items: footer_navigation&.navigation_items || []
    ) %>
  </body>
</html>
